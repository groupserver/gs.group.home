<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  metal:use-macro="context/@@groupserver_site_home_layout/page">
  <head>
    <title metal:fill-slot="title">
      <tal:block 
        replace="string:${view/groupInfo/name}: ${view/siteInfo/name}"/>
    </title>
    <!--TODO: Metadata-->
    <tal:block metal:fill-slot="metadata"
      replace="structure provider:groupserver.GroupHomepageMetadata">
      The metadata for the Group page.
    </tal:block>
  </head>
  <body>
    <tal:block metal:fill-slot="body">
      <div id="group-intro">
        <!--TODO:Put the group photo here, floated to the left 
          - https://projects.iopen.net/groupserver/ticket/506
        -->
        <h1 class="fn" tal:content="view/groupInfo/name">Group</h1>
        <p id="description"
          tal:define="desc python:view.groupInfo.get_property('description')">
          <span class="desc" tal:content="desc">stuff</span>
        </p>
      </div><!--group-intro-->
      <p tal:replace="structure provider:groupserver.UsBar">
        The Us Bar
      </p>
      <div class="cols">
        <div class="rightColumn">
          <p 
            tal:replace="structure provider:groupserver.GroupHomepageTaskTabs">
            The task tabs.
          </p>
        </div><!--right-->
        <div class="leftColumn">
          <p 
            tal:replace="structure provider:groupserver.GroupHomepageInfoTabs">
            The info tabs.
          </p>
        </div><!--left-->
      </div><!--cols-->
    </tal:block>
    <tal:block metal:fill-slot="javascript">
      <script type="text/javascript" src="/++resource++sharebox-20100721.js">&#160;</script>
      <script src="/++resource++jquery-ui-1.8.9.custom.min.js" 
        type="text/javascript">&#160;</script>
      <script type="text/javascript">
        jQuery.noConflict()
        jQuery(document).ready( function () {
          jQuery("#info-tabs").tabs();
          jQuery("#task-tabs").tabs();
        });
      </script>        
      <tal:block
        replace="structure provider:groupserver.GroupHomepageScripts">
        The scripts required by the tabs.
      </tal:block>
    </tal:block>
  </body>
</html>

